EIT060 - projekt 2 notes


ASSUMPTIONS

1 doctor, 1 nurse for every 1 patient -> easier database, but lots more records.




DATABASE

Record
Division
Medical data
nurse
doctor
patient


Types - rights

patient					R own
nurse					R/W involved, R division
doctor					R/W involved, R division, create
government agency		R all, delete all


User

int 	id
int 	type
varchar firstname
varchar lastname
int 	division


Record

int		patient
int		doctor
int		nurse
text	data
varchar	division
varchar flag


Log

int		id
int		record_id
int		user_id
text	activity


EXAMPLES

example query for this structure:

select 	r.data AS record,
		n.id AS nurse_id,
		n.name AS nurse_name,
		d.id AS doctor_id,
		d.name AS doctor_name,
		p.id AS patient patient_id,
		p.name AS patient_name 
		FROM ((('record' as r
			LEFT JOIN 'user' AS d ON r.doctor = d.id)
			LEFT JOIN 'user' AS n ON r.nurse = n.id)
			LEFT JOIN 'user' AS p ON r.patient = p.id)







